{"version":3,"sources":["webpack:///./src/views/company/CompanyManagement.vue?9f93","webpack:///src/views/company/CompanyManagement.vue","webpack:///./src/views/company/CompanyManagement.vue?b6bc","webpack:///./src/views/company/CompanyManagement.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","query","model","value","callback","$$v","$set","expression","on","$event","load","_v","reset","add","columns","data","modalTitle","modalCancel","modal","form","formRules","staticStyle","_l","label","key","_s","minRows","maxRows","slot","modalOk","staticRenderFns","getCatch","companyName","modifyId","companyType","address","wageMax","wageMin","onlineType","onlineChannel","offlineAddress","contactName","mobile","payrollDate","description","examType","onlineMaps","1","2","3","created","getExam","methods","$http","request","method","url","params","edit","row","companyId","hasOwnProperty","split","delect","$Modal","confirm","title","content","onOk","res","code","$refs","validate","valid","join","resetFields","treeChoosed","menuIds","getExams","types","names","component"],"mappings":"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","file":"js/chunk-2d0e9430.b4d998dd.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"company-management\"},[_c('div',{staticClass:\"tool\"},[_c('Form',{ref:\"query\",attrs:{\"model\":_vm.query,\"inline\":\"\",\"label-width\":80}},[_c('FormItem',{attrs:{\"prop\":\"user\",\"label\":\"机构名称\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"机构名称\"},model:{value:(_vm.query.companyName),callback:function ($$v) {_vm.$set(_vm.query, \"companyName\", $$v)},expression:\"query.companyName\"}})],1),_c('FormItem',{attrs:{\"label-width\":20}},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.load()}}},[_vm._v(\"查询\")]),_c('Button',{on:{\"click\":function($event){return _vm.reset()}}},[_vm._v(\"重置\")])],1)],1),_c('div',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.add()}}},[_vm._v(\"添加机构\")])],1)],1),_c('Table',{attrs:{\"stripe\":\"\",\"columns\":_vm.columns,\"data\":_vm.data}}),_c('Modal',{attrs:{\"title\":_vm.modalTitle},on:{\"on-cancel\":_vm.modalCancel},model:{value:(_vm.modal),callback:function ($$v) {_vm.modal=$$v},expression:\"modal\"}},[_c('div',{staticClass:\"modal-content\"},[_c('Form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.formRules,\"label-width\":110}},[_c('FormItem',{attrs:{\"label\":\"机构名称\",\"prop\":\"companyName\"}},[_c('Input',{attrs:{\"maxlength\":20},model:{value:(_vm.form.companyName),callback:function ($$v) {_vm.$set(_vm.form, \"companyName\", $$v)},expression:\"form.companyName\"}})],1),_c('FormItem',{attrs:{\"label\":\"科目类型\",\"prop\":\"companyType\"}},[_c('Select',{staticStyle:{\"width\":\"100%\"},attrs:{\"multiple\":\"\",\"placeholder\":\"科目类型\"},model:{value:(_vm.form.companyType),callback:function ($$v) {_vm.$set(_vm.form, \"companyType\", $$v)},expression:\"form.companyType\"}},_vm._l((_vm.examType),function(label,value){return _c('Option',{key:value,attrs:{\"value\":value}},[_vm._v(_vm._s(label))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"机构地址\",\"prop\":\"address\"}},[_c('Input',{attrs:{\"maxlength\":100,\"type\":\"textarea\",\"autosize\":{minRows: 3,maxRows: 3}},model:{value:(_vm.form.address),callback:function ($$v) {_vm.$set(_vm.form, \"address\", $$v)},expression:\"form.address\"}})],1),_c('FormItem',{attrs:{\"label\":\"联系人\",\"prop\":\"contactName\"}},[_c('Input',{attrs:{\"maxlength\":10},model:{value:(_vm.form.contactName),callback:function ($$v) {_vm.$set(_vm.form, \"contactName\", $$v)},expression:\"form.contactName\"}})],1),_c('FormItem',{attrs:{\"label\":\"联系电话\",\"prop\":\"mobile\"}},[_c('Input',{attrs:{\"maxlength\":11},model:{value:(_vm.form.mobile),callback:function ($$v) {_vm.$set(_vm.form, \"mobile\", $$v)},expression:\"form.mobile\"}})],1),_c('FormItem',{attrs:{\"label\":\"工资发放日期\",\"prop\":\"payrollDate\"}},[_c('Input',{attrs:{\"maxlength\":40},model:{value:(_vm.form.payrollDate),callback:function ($$v) {_vm.$set(_vm.form, \"payrollDate\", $$v)},expression:\"form.payrollDate\"}})],1),_c('FormItem',{attrs:{\"label\":\"课时费(每小时)\"}},[_c('Row',[_c('Col',{attrs:{\"span\":\"11\"}},[_c('FormItem',{attrs:{\"prop\":\"wageMin\"}},[_c('Input',{model:{value:(_vm.form.wageMin),callback:function ($$v) {_vm.$set(_vm.form, \"wageMin\", $$v)},expression:\"form.wageMin\"}})],1)],1),_c('Col',{staticStyle:{\"text-align\":\"center\"},attrs:{\"span\":\"2\"}},[_vm._v(\"-\")]),_c('Col',{attrs:{\"span\":\"11\"}},[_c('FormItem',{attrs:{\"prop\":\"wageMax\"}},[_c('Input',{model:{value:(_vm.form.wageMax),callback:function ($$v) {_vm.$set(_vm.form, \"wageMax\", $$v)},expression:\"form.wageMax\"}})],1)],1)],1)],1),_c('FormItem',{attrs:{\"label\":\"机构类型\",\"prop\":\"onlineType\"}},[_c('Select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"机构类型\"},model:{value:(_vm.form.onlineType),callback:function ($$v) {_vm.$set(_vm.form, \"onlineType\", $$v)},expression:\"form.onlineType\"}},_vm._l((_vm.onlineMaps),function(label,value){return _c('Option',{key:value,attrs:{\"value\":value}},[_vm._v(_vm._s(label))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"线上渠道\",\"prop\":\"onlineChannel\"}},[_c('Input',{attrs:{\"maxlength\":40},model:{value:(_vm.form.onlineChannel),callback:function ($$v) {_vm.$set(_vm.form, \"onlineChannel\", $$v)},expression:\"form.onlineChannel\"}})],1),_c('FormItem',{attrs:{\"label\":\"线下地址\",\"prop\":\"offlineAddress\"}},[_c('Input',{attrs:{\"maxlength\":40},model:{value:(_vm.form.offlineAddress),callback:function ($$v) {_vm.$set(_vm.form, \"offlineAddress\", $$v)},expression:\"form.offlineAddress\"}})],1),_c('FormItem',{attrs:{\"label\":\"备注\",\"prop\":\"description\"}},[_c('Input',{attrs:{\"maxlength\":200,\"type\":\"textarea\",\"autosize\":{minRows: 3,maxRows: 3}},model:{value:(_vm.form.description),callback:function ($$v) {_vm.$set(_vm.form, \"description\", $$v)},expression:\"form.description\"}})],1)],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{on:{\"click\":function($event){return _vm.modalCancel()}}},[_vm._v(\"取消\")]),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.modalOk()}}},[_vm._v(\"确定\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"company-management\">\r\n    <div class=\"tool\">\r\n      <Form ref=\"query\" :model=\"query\" inline :label-width=\"80\">\r\n        <FormItem prop=\"user\" label='机构名称'>\r\n            <!--eslint-disable-next-line vue/no-parsing-error -->\r\n            <Input type=\"text\" v-model=\"query.companyName\" placeholder=\"机构名称\"></Input>\r\n        </FormItem>\r\n        <FormItem :label-width=\"20\">\r\n          <Button type=\"primary\" @click=\"load()\">查询</Button>\r\n          <Button @click=\"reset()\">重置</Button>\r\n        </FormItem>\r\n      </Form>\r\n      <div>\r\n        <Button type=\"primary\" @click=\"add()\">添加机构</Button>\r\n      </div>\r\n    </div>\r\n    <Table stripe :columns=\"columns\" :data=\"data\"></Table>\r\n    <Modal v-model=\"modal\" :title=\"modalTitle\" @on-cancel=\"modalCancel\">\r\n      <div class=\"modal-content\">\r\n        <Form ref=\"form\" :model=\"form\" :rules=\"formRules\" :label-width=\"110\">\r\n          <FormItem label=\"机构名称\" prop=\"companyName\">\r\n            <!--eslint-disable-next-line vue/no-parsing-error -->\r\n            <Input :maxlength=\"20\" v-model=\"form.companyName\"></Input>\r\n          </FormItem>\r\n          <FormItem label=\"科目类型\" prop=\"companyType\">\r\n            <Select multiple style=\"width: 100%\" v-model=\"form.companyType\" placeholder=\"科目类型\">\r\n              <Option v-for=\"(label,value) in examType\" :key=\"value\" :value=\"value\">{{label}}</Option>\r\n            </Select>\r\n          </FormItem>\r\n          <FormItem label=\"机构地址\" prop=\"address\">\r\n            <!--eslint-disable-next-line vue/no-parsing-error -->\r\n            <Input :maxlength=\"100\" v-model=\"form.address\" type=\"textarea\" :autosize=\"{minRows: 3,maxRows: 3}\"></Input>\r\n          </FormItem>\r\n          <FormItem label=\"联系人\" prop=\"contactName\">\r\n            <!--eslint-disable-next-line vue/no-parsing-error -->\r\n            <Input :maxlength=\"10\" v-model=\"form.contactName\"></Input>\r\n          </FormItem>\r\n          <FormItem label=\"联系电话\" prop=\"mobile\">\r\n            <!--eslint-disable-next-line vue/no-parsing-error -->\r\n            <Input :maxlength=\"11\" v-model=\"form.mobile\"></Input>\r\n          </FormItem>\r\n          <FormItem label=\"工资发放日期\" prop=\"payrollDate\">\r\n            <!--eslint-disable-next-line vue/no-parsing-error -->\r\n            <Input :maxlength=\"40\" v-model=\"form.payrollDate\"></Input>\r\n          </FormItem>\r\n          <FormItem label=\"课时费(每小时)\">\r\n            <Row>\r\n                <Col span=\"11\">\r\n                    <FormItem prop=\"wageMin\">\r\n                <!--eslint-disable-next-line vue/no-parsing-error -->\r\n                        <Input v-model=\"form.wageMin\"></Input>\r\n                    </FormItem>\r\n                <!--eslint-disable-next-line vue/no-parsing-error -->\r\n                </Col>\r\n                <!--eslint-disable-next-line vue/no-parsing-error -->\r\n                <Col span=\"2\" style=\"text-align: center\">-</Col>\r\n                <Col span=\"11\">\r\n                    <FormItem prop=\"wageMax\">\r\n                <!--eslint-disable-next-line vue/no-parsing-error -->\r\n                        <Input v-model=\"form.wageMax\"></Input>\r\n                    </FormItem>\r\n                <!--eslint-disable-next-line vue/no-parsing-error -->\r\n                </Col>\r\n            </Row>\r\n          </FormItem>\r\n          <FormItem label=\"机构类型\" prop=\"onlineType\">\r\n            <Select style=\"width: 100%\" v-model=\"form.onlineType\" placeholder=\"机构类型\">\r\n              <Option v-for=\"(label,value) in onlineMaps\" :key=\"value\" :value=\"value\">{{label}}</Option>\r\n            </Select>\r\n          </FormItem>\r\n          <FormItem label=\"线上渠道\" prop=\"onlineChannel\">\r\n            <!--eslint-disable-next-line vue/no-parsing-error -->\r\n            <Input :maxlength=\"40\" v-model=\"form.onlineChannel\"></Input>\r\n          </FormItem>\r\n          <FormItem label=\"线下地址\" prop=\"offlineAddress\">\r\n            <!--eslint-disable-next-line vue/no-parsing-error -->\r\n            <Input :maxlength=\"40\" v-model=\"form.offlineAddress\"></Input>\r\n          </FormItem>\r\n          <FormItem label=\"备注\" prop=\"description\">\r\n            <!--eslint-disable-next-line vue/no-parsing-error -->\r\n            <Input :maxlength=\"200\" v-model=\"form.description\" type=\"textarea\" :autosize=\"{minRows: 3,maxRows: 3}\"></Input>\r\n          </FormItem>\r\n        </Form>\r\n      </div>\r\n      <div slot=\"footer\">\r\n        <Button @click=\"modalCancel()\">取消</Button>\r\n        <Button type=\"primary\" @click=\"modalOk()\">确定</Button>\r\n      </div>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { validateWage } from '../../utils/validate'\r\nexport default {\r\n\r\n  data () {\r\n    return {\r\n      getCatch: true,\r\n      query: {\r\n        companyName: ''\r\n      },\r\n      columns: [\r\n        {\r\n          title: '序号',\r\n          type: 'index',\r\n          width: 80,\r\n          align: 'center'\r\n        },\r\n        {\r\n          title: '机构名称',\r\n          key: 'companyName',\r\n          align: 'center',\r\n          width: 120\r\n        },\r\n        {\r\n          title: '科目类型',\r\n          key: 'companyType',\r\n          align: 'center',\r\n          width: 180,\r\n          render: (h, params) => {\r\n            return h('p', this.getExams(params.row.companyType))\r\n          }\r\n        },\r\n        {\r\n          title: '机构地址',\r\n          key: 'address',\r\n          align: 'center',\r\n          tooltip: true,\r\n          width: 150\r\n        },\r\n        {\r\n          title: '联系人',\r\n          key: 'contactName',\r\n          align: 'center',\r\n          width: 120\r\n        },\r\n        {\r\n          title: '联系电话',\r\n          key: 'mobile',\r\n          align: 'center',\r\n          width: 150\r\n        },\r\n        {\r\n          title: '工资发放日期',\r\n          key: 'payrollDate',\r\n          align: 'center',\r\n          width: 170\r\n        },\r\n        {\r\n          title: '课时费(每小时)',\r\n          align: 'center',\r\n          width: 170,\r\n          render: (h, params) => {\r\n            return h('p', params.row.wageMin + '-' + params.row.wageMax)\r\n          }\r\n        },\r\n        {\r\n          title: '机构类型',\r\n          align: 'center',\r\n          width: 150,\r\n          render: (h, params) => {\r\n            return h('p', this.onlineMaps[params.row.onlineType])\r\n          }\r\n        },\r\n        {\r\n          title: '线上渠道',\r\n          key: 'onlineChannel',\r\n          align: 'center',\r\n          width: 120,\r\n          tooltip: true,\r\n          render: (h, params) => {\r\n            return h('p', params.row.onlineChannel || '--')\r\n          }\r\n        },\r\n        {\r\n          title: '线下地址',\r\n          key: 'offlineAddress',\r\n          align: 'center',\r\n          width: 120,\r\n          tooltip: true,\r\n          render: (h, params) => {\r\n            return h('p', params.row.offlineAddress || '--')\r\n          }\r\n        },\r\n        {\r\n          title: '备注',\r\n          key: 'description',\r\n          align: 'center',\r\n          width: 150,\r\n          tooltip: true\r\n        },\r\n        {\r\n          title: '创建时间',\r\n          key: 'createTime',\r\n          width: 170,\r\n          align: 'center',\r\n          render: (h, params) => {\r\n            return h('p', this.$lib.myMoment(new Date(params.row.createTime)).formate())\r\n          }\r\n        },\r\n        {\r\n          title: '操作',\r\n          key: 'action',\r\n          width: 150,\r\n          fixed: 'right',\r\n          align: 'center',\r\n          render: (h, params) => {\r\n            return h('div', [\r\n              h('a', {\r\n                style: {\r\n                  marginRight: '16px'\r\n                },\r\n                on: {\r\n                  click: () => {\r\n                    this.edit(params.row)\r\n                  }\r\n                }\r\n              }, '编辑'),\r\n              h('a', {\r\n                on: {\r\n                  click: () => {\r\n                    this.delect(params.row)\r\n                  }\r\n                }\r\n              }, '删除')\r\n            ])\r\n          }\r\n        }\r\n      ],\r\n      data: [],\r\n      modal: false,\r\n      modalTitle: '添加机构',\r\n      modifyId: '',\r\n      form: {\r\n        companyName: '',\r\n        companyType: [],\r\n        address: '',\r\n        wageMax: '',\r\n        wageMin: '',\r\n        onlineType: '',\r\n        onlineChannel: '',\r\n        offlineAddress: '',\r\n        contactName: '',\r\n        mobile: '',\r\n        payrollDate: '',\r\n        description: ''\r\n      },\r\n      formRules: {\r\n        companyName: [\r\n          { required: true, message: '机构名称不能为空', trigger: 'blur' }\r\n        ],\r\n        companyType: [\r\n          { required: true, type: 'array', min: 1, message: '请选择科目类型', trigger: 'change' },\r\n          { type: 'array', max: 10, message: '请选择科目类型', trigger: 'change' }\r\n        ],\r\n        address: [\r\n          { required: true, message: '机构地址不能为空', trigger: 'blur' }\r\n        ],\r\n        contactName: [\r\n          { required: true, message: '联系人不能为空', trigger: 'blur' }\r\n        ],\r\n        mobile: [\r\n          { required: true, message: '联系电话不能为空', trigger: 'blur' }\r\n        ],\r\n        payrollDate: [\r\n          { required: true, message: '工资发放日期不能为空', trigger: 'blur' }\r\n        ],\r\n        onlineType: [\r\n          { required: true, message: '请选择机构类型', trigger: 'change' }\r\n        ],\r\n        wageMin: [\r\n          { required: true, validator: validateWage, trigger: 'blur' }\r\n        ],\r\n        wageMax: [\r\n          { required: true, validator: validateWage, trigger: 'blur' }\r\n        ]\r\n      },\r\n      examType: {},\r\n      onlineMaps: {\r\n        1: '线上',\r\n        2: '线下',\r\n        3: '线上和线下'\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.load()\r\n    this.getExam()\r\n  },\r\n  methods: {\r\n    load () {\r\n      this.$http.request({\r\n        method: 'get',\r\n        url: `/company/list`,\r\n        params: this.query\r\n      }).then((res) => {\r\n        this.data = res.data.data\r\n      })\r\n    },\r\n    reset () {},\r\n    add () {\r\n      this.modal = true\r\n      this.modifyId = ''\r\n      this.modalTitle = '添加机构'\r\n    },\r\n    edit (row) {\r\n      this.modal = true\r\n      this.modifyId = row.companyId\r\n      this.modalTitle = `编辑${row.companyName}`\r\n      for (const key in row) {\r\n        if (this.form.hasOwnProperty(key)) {\r\n          if (key === 'companyType') {\r\n            this.form[key] = row[key].split(',')\r\n          } else {\r\n            this.form[key] = row[key]\r\n          }\r\n        }\r\n      }\r\n    },\r\n    delect (data) {\r\n      this.$Modal.confirm({\r\n        title: '提示',\r\n        content: `确定要删除${data.companyName}机构`,\r\n        onOk: () => {\r\n          this.$http.request({\r\n            method: 'post',\r\n            url: `/company/delect/${data.companyId}`,\r\n            data: this.form\r\n          }).then((res) => {\r\n            if (res.data.code === 200) {\r\n              this.load()\r\n              this.$Message.success('删除成功')\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    modalOk () {\r\n      this.$refs.form.validate((valid) => {\r\n        if (valid) {\r\n          let data = { ...this.form }\r\n          data.companyType = data.companyType.join(',')\r\n          let url = this.modifyId ? `/company/update/${this.modifyId}` : `/company/add`\r\n          this.$http.request({\r\n            method: 'post',\r\n            url: url,\r\n            data\r\n          }).then((res) => {\r\n            if (res.data.code === 200) {\r\n              this.load()\r\n              this.$Message.success(this.modifyId ? '编辑成功' : '添加成功')\r\n              this.modalCancel()\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    modalCancel () {\r\n      this.modal = false\r\n      this.$refs.form.resetFields()\r\n    },\r\n    treeChoosed (ids) {\r\n      let menuIds = []\r\n      for (const d of ids) {\r\n        if (!menuIds.includes(d.menuId)) {\r\n          menuIds.push(d.menuId)\r\n        }\r\n        if (d.parentId !== 0 && !menuIds.includes(d.parentId)) {\r\n          menuIds.push(d.parentId)\r\n        }\r\n      }\r\n      this.form.menuIds = menuIds.join(',')\r\n    },\r\n    getExam () {\r\n      this.$http.request({\r\n        method: 'get',\r\n        url: `/exam/list`\r\n      }).then((res) => {\r\n        for (const data of res.data.data) {\r\n          this.$set(this.examType, data.examId, data.examName)\r\n        }\r\n      })\r\n    },\r\n    getExams (types) {\r\n      let names = ''\r\n      types = types.split(',')\r\n      for (const t of types) {\r\n        names += this.examType[t] + ' '\r\n      }\r\n      return names\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./CompanyManagement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./CompanyManagement.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CompanyManagement.vue?vue&type=template&id=0fb9457c&\"\nimport script from \"./CompanyManagement.vue?vue&type=script&lang=js&\"\nexport * from \"./CompanyManagement.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}