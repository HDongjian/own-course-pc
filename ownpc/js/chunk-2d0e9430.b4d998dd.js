(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e9430"],{"8d7e":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"company-management"},[r("div",{staticClass:"tool"},[r("Form",{ref:"query",attrs:{model:e.query,inline:"","label-width":80}},[r("FormItem",{attrs:{prop:"user",label:"机构名称"}},[r("Input",{attrs:{type:"text",placeholder:"机构名称"},model:{value:e.query.companyName,callback:function(t){e.$set(e.query,"companyName",t)},expression:"query.companyName"}})],1),r("FormItem",{attrs:{"label-width":20}},[r("Button",{attrs:{type:"primary"},on:{click:function(t){return e.load()}}},[e._v("查询")]),r("Button",{on:{click:function(t){return e.reset()}}},[e._v("重置")])],1)],1),r("div",[r("Button",{attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[e._v("添加机构")])],1)],1),r("Table",{attrs:{stripe:"",columns:e.columns,data:e.data}}),r("Modal",{attrs:{title:e.modalTitle},on:{"on-cancel":e.modalCancel},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[r("div",{staticClass:"modal-content"},[r("Form",{ref:"form",attrs:{model:e.form,rules:e.formRules,"label-width":110}},[r("FormItem",{attrs:{label:"机构名称",prop:"companyName"}},[r("Input",{attrs:{maxlength:20},model:{value:e.form.companyName,callback:function(t){e.$set(e.form,"companyName",t)},expression:"form.companyName"}})],1),r("FormItem",{attrs:{label:"科目类型",prop:"companyType"}},[r("Select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"科目类型"},model:{value:e.form.companyType,callback:function(t){e.$set(e.form,"companyType",t)},expression:"form.companyType"}},e._l(e.examType,(function(t,a){return r("Option",{key:a,attrs:{value:a}},[e._v(e._s(t))])})),1)],1),r("FormItem",{attrs:{label:"机构地址",prop:"address"}},[r("Input",{attrs:{maxlength:100,type:"textarea",autosize:{minRows:3,maxRows:3}},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),r("FormItem",{attrs:{label:"联系人",prop:"contactName"}},[r("Input",{attrs:{maxlength:10},model:{value:e.form.contactName,callback:function(t){e.$set(e.form,"contactName",t)},expression:"form.contactName"}})],1),r("FormItem",{attrs:{label:"联系电话",prop:"mobile"}},[r("Input",{attrs:{maxlength:11},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),r("FormItem",{attrs:{label:"工资发放日期",prop:"payrollDate"}},[r("Input",{attrs:{maxlength:40},model:{value:e.form.payrollDate,callback:function(t){e.$set(e.form,"payrollDate",t)},expression:"form.payrollDate"}})],1),r("FormItem",{attrs:{label:"课时费(每小时)"}},[r("Row",[r("Col",{attrs:{span:"11"}},[r("FormItem",{attrs:{prop:"wageMin"}},[r("Input",{model:{value:e.form.wageMin,callback:function(t){e.$set(e.form,"wageMin",t)},expression:"form.wageMin"}})],1)],1),r("Col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[e._v("-")]),r("Col",{attrs:{span:"11"}},[r("FormItem",{attrs:{prop:"wageMax"}},[r("Input",{model:{value:e.form.wageMax,callback:function(t){e.$set(e.form,"wageMax",t)},expression:"form.wageMax"}})],1)],1)],1)],1),r("FormItem",{attrs:{label:"机构类型",prop:"onlineType"}},[r("Select",{staticStyle:{width:"100%"},attrs:{placeholder:"机构类型"},model:{value:e.form.onlineType,callback:function(t){e.$set(e.form,"onlineType",t)},expression:"form.onlineType"}},e._l(e.onlineMaps,(function(t,a){return r("Option",{key:a,attrs:{value:a}},[e._v(e._s(t))])})),1)],1),r("FormItem",{attrs:{label:"线上渠道",prop:"onlineChannel"}},[r("Input",{attrs:{maxlength:40},model:{value:e.form.onlineChannel,callback:function(t){e.$set(e.form,"onlineChannel",t)},expression:"form.onlineChannel"}})],1),r("FormItem",{attrs:{label:"线下地址",prop:"offlineAddress"}},[r("Input",{attrs:{maxlength:40},model:{value:e.form.offlineAddress,callback:function(t){e.$set(e.form,"offlineAddress",t)},expression:"form.offlineAddress"}})],1),r("FormItem",{attrs:{label:"备注",prop:"description"}},[r("Input",{attrs:{maxlength:200,type:"textarea",autosize:{minRows:3,maxRows:3}},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1)],1),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{on:{click:function(t){return e.modalCancel()}}},[e._v("取消")]),r("Button",{attrs:{type:"primary"},on:{click:function(t){return e.modalOk()}}},[e._v("确定")])],1)])],1)},n=[],o=(r("2338"),r("fb37"),r("f301"),r("0eb5"),r("a4c5"),r("f763"),r("b04f")),l=(r("7bc1"),r("61f7"));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(r,!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c={data:function(){var e=this;return{getCatch:!0,query:{companyName:""},columns:[{title:"序号",type:"index",width:80,align:"center"},{title:"机构名称",key:"companyName",align:"center",width:120},{title:"科目类型",key:"companyType",align:"center",width:180,render:function(t,r){return t("p",e.getExams(r.row.companyType))}},{title:"机构地址",key:"address",align:"center",tooltip:!0,width:150},{title:"联系人",key:"contactName",align:"center",width:120},{title:"联系电话",key:"mobile",align:"center",width:150},{title:"工资发放日期",key:"payrollDate",align:"center",width:170},{title:"课时费(每小时)",align:"center",width:170,render:function(e,t){return e("p",t.row.wageMin+"-"+t.row.wageMax)}},{title:"机构类型",align:"center",width:150,render:function(t,r){return t("p",e.onlineMaps[r.row.onlineType])}},{title:"线上渠道",key:"onlineChannel",align:"center",width:120,tooltip:!0,render:function(e,t){return e("p",t.row.onlineChannel||"--")}},{title:"线下地址",key:"offlineAddress",align:"center",width:120,tooltip:!0,render:function(e,t){return e("p",t.row.offlineAddress||"--")}},{title:"备注",key:"description",align:"center",width:150,tooltip:!0},{title:"创建时间",key:"createTime",width:170,align:"center",render:function(t,r){return t("p",e.$lib.myMoment(new Date(r.row.createTime)).formate())}},{title:"操作",key:"action",width:150,fixed:"right",align:"center",render:function(t,r){return t("div",[t("a",{style:{marginRight:"16px"},on:{click:function(){e.edit(r.row)}}},"编辑"),t("a",{on:{click:function(){e.delect(r.row)}}},"删除")])}}],data:[],modal:!1,modalTitle:"添加机构",modifyId:"",form:{companyName:"",companyType:[],address:"",wageMax:"",wageMin:"",onlineType:"",onlineChannel:"",offlineAddress:"",contactName:"",mobile:"",payrollDate:"",description:""},formRules:{companyName:[{required:!0,message:"机构名称不能为空",trigger:"blur"}],companyType:[{required:!0,type:"array",min:1,message:"请选择科目类型",trigger:"change"},{type:"array",max:10,message:"请选择科目类型",trigger:"change"}],address:[{required:!0,message:"机构地址不能为空",trigger:"blur"}],contactName:[{required:!0,message:"联系人不能为空",trigger:"blur"}],mobile:[{required:!0,message:"联系电话不能为空",trigger:"blur"}],payrollDate:[{required:!0,message:"工资发放日期不能为空",trigger:"blur"}],onlineType:[{required:!0,message:"请选择机构类型",trigger:"change"}],wageMin:[{required:!0,validator:l["f"],trigger:"blur"}],wageMax:[{required:!0,validator:l["f"],trigger:"blur"}]},examType:{},onlineMaps:{1:"线上",2:"线下",3:"线上和线下"}}},created:function(){this.load(),this.getExam()},methods:{load:function(){var e=this;this.$http.request({method:"get",url:"/company/list",params:this.query}).then((function(t){e.data=t.data.data}))},reset:function(){},add:function(){this.modal=!0,this.modifyId="",this.modalTitle="添加机构"},edit:function(e){for(var t in this.modal=!0,this.modifyId=e.companyId,this.modalTitle="编辑".concat(e.companyName),e)this.form.hasOwnProperty(t)&&(this.form[t]="companyType"===t?e[t].split(","):e[t])},delect:function(e){var t=this;this.$Modal.confirm({title:"提示",content:"确定要删除".concat(e.companyName,"机构"),onOk:function(){t.$http.request({method:"post",url:"/company/delect/".concat(e.companyId),data:t.form}).then((function(e){200===e.data.code&&(t.load(),t.$Message.success("删除成功"))}))}})},modalOk:function(){var e=this;this.$refs.form.validate((function(t){if(t){var r=s({},e.form);r.companyType=r.companyType.join(",");var a=e.modifyId?"/company/update/".concat(e.modifyId):"/company/add";e.$http.request({method:"post",url:a,data:r}).then((function(t){200===t.data.code&&(e.load(),e.$Message.success(e.modifyId?"编辑成功":"添加成功"),e.modalCancel())}))}}))},modalCancel:function(){this.modal=!1,this.$refs.form.resetFields()},treeChoosed:function(e){var t=[],r=!0,a=!1,n=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var i=o.value;t.includes(i.menuId)||t.push(i.menuId),0===i.parentId||t.includes(i.parentId)||t.push(i.parentId)}}catch(s){a=!0,n=s}finally{try{r||null==l.return||l.return()}finally{if(a)throw n}}this.form.menuIds=t.join(",")},getExam:function(){var e=this;this.$http.request({method:"get",url:"/exam/list"}).then((function(t){var r=!0,a=!1,n=void 0;try{for(var o,l=t.data.data[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var i=o.value;e.$set(e.examType,i.examId,i.examName)}}catch(s){a=!0,n=s}finally{try{r||null==l.return||l.return()}finally{if(a)throw n}}}))},getExams:function(e){var t="";e=e.split(",");var r=!0,a=!1,n=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var i=o.value;t+=this.examType[i]+" "}}catch(s){a=!0,n=s}finally{try{r||null==l.return||l.return()}finally{if(a)throw n}}return t}}},m=c,d=r("6691"),p=Object(d["a"])(m,a,n,!1,null,null,null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0e9430.b4d998dd.js.map